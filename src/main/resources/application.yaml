# Application configuration
application:
  version: ${project.version:0.0.1-SNAPSHOT}

# Spring Boot Configuration
spring:
  application:
    name: legacy-shop

  # H2 Database (PostgreSQL compatibility mode)
  datasource:
    url: jdbc:h2:mem:legacyshop;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
    driver-class-name: org.h2.Driver
    username: sa
    password:

  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: none
    show-sql: false
    properties:
      hibernate:
        format_sql: true
        default_schema: public

  # H2 Console (development only)
  h2:
    console:
      enabled: true
      path: /h2-console

# Business Rules Configuration
business:
  # Tiered discount configuration
  promotions:
    tier1:
      threshold: 50.00
      discount: 0.05
    tier2:
      threshold: 100.00
      discount: 0.10
    tier3:
      threshold: 200.00
      discount: 0.15

  # Loyalty points configuration
  loyalty:
    points-per-dollar: 1.0
    max-points: 500

  # Payment service configuration
  payments:
    auth-url: http://localhost:8080/mock/payment/authorize
    timeout-seconds: 10

  # Inventory configuration
  inventory:
    default-restock-quantity: 100